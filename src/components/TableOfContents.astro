---
// src/components/TableOfContents.astro
---
<nav
  id="table-of-contents"
  class="xl:block fixed top-1/2 -translate-y-1/2 right-[calc(50%+576px+1rem)] w-[320px] space-y-2 p-4 rounded-lg shadow-lg backdrop-blur-md border z-50"
  style="background-color: var(--card-bg); border-color: var(--border-color);"
>
  <h3 class="font-bold text-lg mb-2 whitespace-nowrap" style="color: var(--text-color);">目录</h3>
  <ul id="toc-list" class="space-y-1" style="max-height: 1240px; overflow-y: auto;">
    <!-- Links will be injected here by script -->
  </ul>
  <div id="toc-pagination" class="flex items-center gap-2 pt-2 border-t" style="display: none; border-color: var(--border-color); color: var(--text-secondary);">
    <button id="toc-prev" class="px-2 py-1 text-sm rounded border" style="border-color: var(--border-color); color: var(--text-color); background-color: transparent;">上一页</button>
    <span id="toc-page-info" class="text-xs"></span>
    <button id="toc-next" class="px-2 py-1 text-sm rounded border" style="border-color: var(--border-color); color: var(--text-color); background-color: transparent;">下一页</button>
  </div>
</nav>

<style>
  #table-of-contents a {
    text-decoration: none;
  }

  #table-of-contents a:hover {
    text-decoration: none;
  }
</style>

<script type="module" src="/scripts/table-of-contents.js" is:inline></script>
