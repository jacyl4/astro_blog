@layer components {
  #comments-panel {
    max-height: 0;
    opacity: 0;
    overflow: hidden;
    transition: max-height 0.5s ease-in-out, opacity 0.4s ease-out 0.1s;
  }

  #comments-panel.is-visible {
    max-height: min(1240px, calc(100vh - 160px));
    opacity: 1;
  }

  #comments-panel a {
    @apply no-underline;
  }

  #comments-panel a:hover {
    @apply no-underline;
  }

  #comments-panel .comment-item {
    @apply border border-[color:var(--border-color)] rounded-lg p-3 text-[var(--text-color)] bg-[var(--card-bg)] flex flex-col gap-3;
  }

  #comments-panel .comment-item p {
    @apply my-1;
  }

  #comments-panel .comment-author {
    @apply flex items-start gap-3 flex-nowrap;
  }

  #comments-panel .comment-avatar-wrapper {
    @apply w-12 h-12 shrink-0 flex items-center justify-center rounded-full overflow-hidden;
  }

  #comments-panel .comment-avatar {
    @apply w-12 h-12 max-w-12 max-h-12 object-cover rounded-full;
  }

  #comments-panel .comment-avatar-fallback {
    @apply flex items-center justify-center w-12 h-12 text-lg rounded-full bg-[var(--divider-shadow-soft)] text-[var(--text-color)];
  }

  #comments-panel .comment-meta {
    @apply flex flex-col flex-1 items-start justify-center gap-1 min-w-0;
  }

  #comments-panel .comment-author-name {
    @apply font-semibold text-[var(--text-color)];
  }

  #comments-panel .comment-timestamp {
    @apply text-sm text-[var(--text-secondary)];
  }

  #comments-list {
    @apply max-h-[calc(100%-140px)];
  }

  /* 滚动条样式 - 默认隐藏 */
  #comments-panel ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  #comments-panel ::-webkit-scrollbar-track {
    background: transparent;
  }

  #comments-panel ::-webkit-scrollbar-thumb {
    background: transparent;
    border-radius: 4px;
    transition: background 0.3s ease;
  }

  /* 鼠标悬停时显示滚动条 */
  #comments-panel:hover ::-webkit-scrollbar-thumb {
    background: #333;
  }

  #comments-panel:hover ::-webkit-scrollbar-thumb:hover {
    background: #555;
  }

  /* Firefox - 默认隐藏 */
  #comments-panel * {
    scrollbar-width: none;
  }

  /* Firefox - 鼠标悬停时显示 */
  #comments-panel:hover * {
    scrollbar-width: thin;
    scrollbar-color: #333 transparent;
  }
}
